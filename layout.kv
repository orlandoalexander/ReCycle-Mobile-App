#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import MagicBehavior kivymd.uix.behaviors.MagicBehavior

WindowManager:
#sets up the different screens for the app and the default order that they run in
    transition: NoTransition() #sets all transitions as 'NoTransition'
    HomeScreen:
    IdentifyItem:
    ScreenUnderDevelopment:
    UserLocation:


<Button>:
    background_normal: "" #sets all buttons default background colour to white

<HomeScreen>
    name: "home" #defines the screen name used to switch between the screens

    canvas:
        Color:
            rgba: (1,1,1,1) #sets canvas colour to white
        Rectangle:
            pos: self.pos
            size: self.size #sets size of rectangle to same size as the canvas (which is the size of the GUI screen)

    FloatLayout:
        Image:
            id: HomeScreenBackground
            source: "HomeScreenBackground.jpg"
            pos_hint: {"y":0.23}
            size_hint: 1.3,1

        Image:
            id: RecyclingLogo
            source: "RecyclingLogo.png"  #Attribute: <a href='https://www.freepik.com/photos/design'>Design photo created by rawpixel.com - www.freepik.com</a>
            pos_hint: {"center_x":0.755, "y":0.08} #center_x places image in the centre of the screen horizontally
            size_hint: (0.38,0.33)

        Image:
            id: RecyclingLogo_Circle
            source: "Logo_Circle.png"
            allow_stretch: True
            pos_hint: {"center_x":0.75, "center_y":0.25} #center_x places image in the centre of the screen horizontally
            size_hint: (0.45,0.45)

        Image:
            id: BinLogo
            source: "BinLogo.png"
            pos_hint: {"center_x":0.255, "y":0.09} #center_x places image in the centre of the screen horizontally
            size_hint: (0.35,0.31)

        Image:
            id: BinLogo_Circle
            source: "Logo_Circle.png"
            allow_stretch: True
            pos_hint: {"center_x":0.25, "center_y":0.25} #center_x places image in the centre of the screen horizontally
            size_hint: (0.45,0.45)

        Image:
            id: HelpIcon
            source: "HelpIcon.png"
            pos_hint: {"center_x":0.9,"center_y":0.05}
            allow_stretch: True
            size_hint: 0.08,0.08

        Image:
            id: Help_Arrow_RecyclingLogo
            opacity: 0
            source: "HomeScreenArrow_Down.png"
            pos_hint: {"center_x":0.86, "center_y":0.39} #center_x places image in the centre of the screen horizontally
            size_hint: (0.1,0.1)

        Image:
            id: Help_Arrow_BinLogo
            opacity: 0
            source: "HomeScreenArrow_Up.png"
            pos_hint: {"center_x":0.14, "center_y":0.11} #center_x places image in the centre of the screen horizontally
            size_hint: (0.1,0.1)

        Label:
            id: Help_Text_RecyclingLogo
            size_hint: (None, None)
            size: (self.texture_size) #label size depends on the text length and font size
            pos_hint: {"x":0.26, "top":0.44}
            opacity: 0
            font_size: 28
            text: "Check if an item can be recycled"
            color: ((83/255),(83/255),(83/255),1) #sets the colour of the text (rgba)

        Label:
            id: Help_Text_BinLogo
            size_hint: (None, None)
            size: (self.texture_size)
            pos_hint: {"x":0.2, "top":0.08}
            opacity: 0
            font_size: 28
            text: "Set up reminders to put your bins out"
            color: ((83/255),(83/255),(83/255),1) #sets the colour of the text (rgba)


        Label:
            id: AppName
            size_hint: (None, None)
            size: self.texture_size
            pos_hint: {"center_x":0.5, "top":0.91}
            font_size: 180
            text: "Re:Cycle"
            color: (1,1,1,1) #sets the colour of the text (rgba)

        Label:
            id: WelcomeMessage
            size_hint: (None, None)
            size: self.texture_size
            pos_hint: {"center_x":0.5, "top":0.68}
            font_size: 85
            text: root.message
            color: (1,1,1,1) #sets the colour of the text (rgba)
            canvas:
                Color:
                    rgba: (1,1,1,1)
                Line:
                    width: 1
                    rectangle: self.x-5, self.y-6, self.width+10, self.height+8

        Button:
            id: RecyclingLogoButton
            background_color: (1, 1, 1, 0)
            pos_hint: {"center_x":0.75, "y":0.13}
            size_hint: (0.44,0.23)
            on_press:
                root.on_press_RecyclingLogo() #calls 'on_press()' method in 'HomeScreen()' class in Python file
            on_release:
                root.on_release_RecyclingLogo()
                root.manager.current = "identify_item"

        Button:
            id: BinLogoButton
            background_color: (1, 1, 1, 0)
            pos_hint: {"center_x":0.25, "y":0.13}
            size_hint: (0.44,0.23)
            on_press:
                root.on_press_BinLogo() #calls 'on_press()' method in 'HomeScreen()' class in Python file
            on_release:
                root.on_release_BinLogo()
                root.manager.current = "under_development"

        Button:
            id: HelpButton
            background_color: (1, 1, 1, 0)
            pos_hint: {"center_x":0.9,"center_y":0.05}
            size_hint: (0.09, 0.07)
            on_press:
                root.help_button()



<IdentifyItem>
    name: "identify_item"

    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "ItemIdentificationBackground.jpg"

    FloatLayout:


        Image:
            id: Mic_Image
            source: "Mic_Static.png"
            opacity: 1
            anim_delay: 0
            allow_stretch: True
            size_hint: (1.4,1.4)
            pos_hint: {"center_x":0.5, "center_y": 0.25}

        Image:
            id: HelpIcon
            source: "HelpIcon-white.png"
            pos_hint: {"center_x":0.9,"center_y":0.05}
            allow_stretch: True
            size_hint: 0.08,0.08

        Label:
            id: header
            size_hint: (None, None)
            size: self.texture_size
            pos_hint: {"center_x":0.5, "top":0.81}
            font_size: 75
            text: "I want to recycle..."
            color: ((140/255),(128/255),(128/255),1) #sets the colour of the text (rgba)


        Label:
            id: snackbar
            canvas.before:
                Color:
                    rgba: 0.298,0.686,0.314,1
                Rectangle:
                    pos: self.pos
                    size: self.size
            text: "Press and hold the microphone to speak"
            text_color: (1,1,1,1)
            valign: "middle"
            halign: 'center'
            size_hint: 1, 0.1
            pos_hint: {"center_x": 0.5, "top":0}
            font_size: 37


        Button:
            id: mic
            opacity: 0
            pos_hint: {"center_x":0.5, "y":0.13}
            size_hint: (0.3,0.19)
            on_press:
                root.on_press()
            on_release:
                root.stop_recording()

        Button:
            id: HelpButton
            background_color: (1, 1, 1, 0)
            pos_hint: {"center_x":0.9,"center_y":0.05}
            size_hint: (0.09, 0.07)
            on_press:
                root.help_button()


<UserLocation_Content>:
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "50dp"

    MDTextField:
        hint_text: "Postcode"
        color_mode: 'custom'
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter postcode"
        line_color_normal: [11/255,156/255,49/255,1]
        line_color_focus: [11/255,156/255,49/255,1]
        use_bubble: False



<ScreenUnderDevelopment>
    name: "under_development"
    Label:
        text: "Screen Under Development"
